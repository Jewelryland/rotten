d$studio[i] = ifelse(is.null(file$studio), NA, file$studio)
d$link[i] = file$links$alternate[1]
}
}
i = 10
filename = paste(i,"_",d$id[i],".json", sep="")
file = fromJSON(file = filename)
file
is.null(file$abridged_cast[[3]])
is.null(file$abridged_cast[[4]])
length(file$abridged_cast[[4]])
length(file$abridged_cast)
for(i in 1:nrow(d)){
print(i)
filename = paste(i,"_",d$id[i],".json", sep="")
file = fromJSON(file = filename)
if(is.null(file$title[i])){
d[i,12:26] = NA
}
if(!is.null(file$title[i])){
d$title_rt[i] = file$title
d$year_rt[i] = file$year
d$genre_rt[i] = file$genres[1]
d$mpaa_rating[i] = file$mpaa_rating
d$runtime_rt[i] = file$runtime
d$critics_rating[i] = ifelse(is.null(file$ratings$critics_rating), NA, file$ratings$critics_rating)
d$critics_score[i] = file$ratings$critics_score
d$audience_rating[i] = file$ratings$audience_rating
d$audience_score[i] = file$ratings$audience_score
d$actor1[i] = ifelse(length(file$abridged_cast)>=1), NA, file$abridged_cast[[1]]$name)
d$actor2[i] = ifelse(length(file$abridged_cast)>=2), NA, file$abridged_cast[[2]]$name)
d$actor3[i] = ifelse(length(file$abridged_cast)>=3), NA, file$abridged_cast[[3]]$name)
d$actor4[i] = ifelse(length(file$abridged_cast)>=4), NA, file$abridged_cast[[4]]$name)
d$actor5[i] = ifelse(length(file$abridged_cast)>=5), NA, file$abridged_cast[[5]]$name)
d$director_rt[i] = file$abridged_directors[[1]]$name
d$studio[i] = ifelse(is.null(file$studio), NA, file$studio)
d$link[i] = file$links$alternate[1]
}
}
for(i in 1:nrow(d)){
print(i)
filename = paste(i,"_",d$id[i],".json", sep="")
file = fromJSON(file = filename)
if(is.null(file$title[i])){
d[i,12:26] = NA
}
if(!is.null(file$title[i])){
d$title_rt[i] = file$title
d$year_rt[i] = file$year
d$genre_rt[i] = file$genres[1]
d$mpaa_rating[i] = file$mpaa_rating
d$runtime_rt[i] = file$runtime
d$critics_rating[i] = ifelse(is.null(file$ratings$critics_rating), NA, file$ratings$critics_rating)
d$critics_score[i] = file$ratings$critics_score
d$audience_rating[i] = file$ratings$audience_rating
d$audience_score[i] = file$ratings$audience_score
d$actor1[i] = ifelse(length(file$abridged_cast)>=1, NA, file$abridged_cast[[1]]$name)
d$actor2[i] = ifelse(length(file$abridged_cast)>=2, NA, file$abridged_cast[[2]]$name)
d$actor3[i] = ifelse(length(file$abridged_cast)>=3, NA, file$abridged_cast[[3]]$name)
d$actor4[i] = ifelse(length(file$abridged_cast)>=4, NA, file$abridged_cast[[4]]$name)
d$actor5[i] = ifelse(length(file$abridged_cast)>=5, NA, file$abridged_cast[[5]]$name)
d$director_rt[i] = file$abridged_directors[[1]]$name
d$studio[i] = ifelse(is.null(file$studio), NA, file$studio)
d$link[i] = file$links$alternate[1]
}
}
length(file$abridged_cast)>=4
for(i in 1:nrow(d)){
print(i)
filename = paste(i,"_",d$id[i],".json", sep="")
file = fromJSON(file = filename)
if(is.null(file$title[i])){
d[i,12:26] = NA
}
if(!is.null(file$title[i])){
d$title_rt[i] = file$title
d$year_rt[i] = file$year
d$genre_rt[i] = file$genres[1]
d$mpaa_rating[i] = file$mpaa_rating
d$runtime_rt[i] = file$runtime
d$critics_rating[i] = ifelse(is.null(file$ratings$critics_rating), NA, file$ratings$critics_rating)
d$critics_score[i] = file$ratings$critics_score
d$audience_rating[i] = file$ratings$audience_rating
d$audience_score[i] = file$ratings$audience_score
d$actor1[i] = ifelse(length(file$abridged_cast)>=1, file$abridged_cast[[1]]$name, NA)
d$actor2[i] = ifelse(length(file$abridged_cast)>=2, file$abridged_cast[[2]]$name, NA)
d$actor3[i] = ifelse(length(file$abridged_cast)>=3, file$abridged_cast[[3]]$name, NA)
d$actor4[i] = ifelse(length(file$abridged_cast)>=4, file$abridged_cast[[4]]$name, NA)
d$actor5[i] = ifelse(length(file$abridged_cast)>=5, file$abridged_cast[[5]]$name, NA)
d$director_rt[i] = file$abridged_directors[[1]]$name
d$studio[i] = ifelse(is.null(file$studio), NA, file$studio)
d$link[i] = file$links$alternate[1]
}
}
for(i in 1:nrow(d)){
print(i)
filename = paste(i,"_",d$id[i],".json", sep="")
file = fromJSON(file = filename)
if(is.null(file$title[i])){
d[i,12:26] = NA
}
if(!is.null(file$title[i])){
d$title_rt[i] = file$title
d$year_rt[i] = file$year
d$genre_rt[i] = file$genres[1]
d$mpaa_rating[i] = file$mpaa_rating
d$runtime_rt[i] = file$runtime
d$critics_rating[i] = ifelse(is.null(file$ratings$critics_rating), NA, file$ratings$critics_rating)
d$critics_score[i] = file$ratings$critics_score
d$audience_rating[i] = ifelse(is.null(file$ratings$audience_rating), NA, file$ratings$audience_rating)
d$audience_score[i] = file$ratings$audience_score
d$actor1[i] = ifelse(length(file$abridged_cast)>=1, file$abridged_cast[[1]]$name, NA)
d$actor2[i] = ifelse(length(file$abridged_cast)>=2, file$abridged_cast[[2]]$name, NA)
d$actor3[i] = ifelse(length(file$abridged_cast)>=3, file$abridged_cast[[3]]$name, NA)
d$actor4[i] = ifelse(length(file$abridged_cast)>=4, file$abridged_cast[[4]]$name, NA)
d$actor5[i] = ifelse(length(file$abridged_cast)>=5, file$abridged_cast[[5]]$name, NA)
d$director_rt[i] = file$abridged_directors[[1]]$name
d$studio[i] = ifelse(is.null(file$studio), NA, file$studio)
d$link[i] = file$links$alternate[1]
}
}
for(i in 1:nrow(d)){
print(i)
filename = paste(i,"_",d$id[i],".json", sep="")
file = fromJSON(file = filename)
if(is.null(file$title[i])){
d[i,12:26] = NA
}
if(!is.null(file$title[i])){
d$title_rt[i] = file$title
d$year_rt[i] = file$year
d$genre_rt[i] = file$genres[1]
d$mpaa_rating[i] = file$mpaa_rating
d$runtime_rt[i] = file$runtime
d$critics_rating[i] = ifelse(is.null(file$ratings$critics_rating), NA, file$ratings$critics_rating)
d$critics_score[i] = file$ratings$critics_score
d$audience_rating[i] = ifelse(is.null(file$ratings$audience_rating), NA, file$ratings$audience_rating)
d$audience_score[i] = file$ratings$audience_score
d$actor1[i] = ifelse(length(file$abridged_cast)>=1, file$abridged_cast[[1]]$name, NA)
d$actor2[i] = ifelse(length(file$abridged_cast)>=2, file$abridged_cast[[2]]$name, NA)
d$actor3[i] = ifelse(length(file$abridged_cast)>=3, file$abridged_cast[[3]]$name, NA)
d$actor4[i] = ifelse(length(file$abridged_cast)>=4, file$abridged_cast[[4]]$name, NA)
d$actor5[i] = ifelse(length(file$abridged_cast)>=5, file$abridged_cast[[5]]$name, NA)
d$director_rt[i] = ifelse(length(file$abridged_directors)>=1, file$abridged_directors[[1]]$name, NA)
d$studio[i] = ifelse(is.null(file$studio), NA, file$studio)
d$link[i] = file$links$alternate[1]
}
}
View(samp)
View(d)
d = subset(samp, select = c(Title,Title.type,Directors,IMDb.Rating,Runtime..mins.,Year,Genres,Num..Votes,Release.Date..month.day.year.,URL,id))
names(d) = c("title","title_type","directors","imdb_rating","runtime","year","genres","num_votes","rel_date","url","id")
d$title_rt = NA
d$year_rt = NA
d$genre_rt = NA
d$mpaa_rating = NA
d$runtime_rt = NA
d$critics_rating = NA
d$critics_score = NA
d$audience_rating = NA
d$audience_score = NA
d$actor1[i] = NA
d$actor2[i] = NA
d$actor3[i] = NA
d$actor4[i] = NA
d$actor5[i] = NA
d$director_rt[i] = NA
d$studio[i] = NA
d$link[i] = NA
# fill in new columns
for(i in 1:nrow(d)){
#print(i)
filename = paste(i,"_",d$id[i],".json", sep="")
file = fromJSON(file = filename)
if(is.null(file$title[i])){
d[i,12:26] = NA
}
if(!is.null(file$title[i])){
d$title_rt[i] = file$title
d$year_rt[i] = file$year
d$genre_rt[i] = file$genres[1]
d$mpaa_rating[i] = file$mpaa_rating
d$runtime_rt[i] = file$runtime
d$critics_rating[i] = ifelse(is.null(file$ratings$critics_rating), NA, file$ratings$critics_rating)
d$critics_score[i] = file$ratings$critics_score
d$audience_rating[i] = ifelse(is.null(file$ratings$audience_rating), NA, file$ratings$audience_rating)
d$audience_score[i] = file$ratings$audience_score
d$actor1[i] = ifelse(length(file$abridged_cast)>=1, file$abridged_cast[[1]]$name, NA)
d$actor2[i] = ifelse(length(file$abridged_cast)>=2, file$abridged_cast[[2]]$name, NA)
d$actor3[i] = ifelse(length(file$abridged_cast)>=3, file$abridged_cast[[3]]$name, NA)
d$actor4[i] = ifelse(length(file$abridged_cast)>=4, file$abridged_cast[[4]]$name, NA)
d$actor5[i] = ifelse(length(file$abridged_cast)>=5, file$abridged_cast[[5]]$name, NA)
d$director_rt[i] = ifelse(length(file$abridged_directors)>=1, file$abridged_directors[[1]]$name, NA)
d$studio[i] = ifelse(is.null(file$studio), NA, file$studio)
d$link[i] = file$links$alternate[1]
}
}
View(d)
dim(d)
d = subset(samp, select = c(Title,Title.type,Directors,IMDb.Rating,Runtime..mins.,Year,Genres,Num..Votes,Release.Date..month.day.year.,URL,id))
names(d) = c("title","title_type","directors","imdb_rating","runtime","year","genres","num_votes","rel_date","url","id")
# create new columns
d$title_rt = NA
d$year_rt = NA
d$genre_rt = NA
d$mpaa_rating = NA
d$runtime_rt = NA
d$critics_rating = NA
d$critics_score = NA
d$audience_rating = NA
d$audience_score = NA
d$actor1[i] = NA
d$actor2[i] = NA
d$actor3[i] = NA
d$actor4[i] = NA
d$actor5[i] = NA
d$director_rt[i] = NA
d$studio[i] = NA
d$link[i] = NA
dim(d)
for(i in 1:nrow(d)){
#print(i)
filename = paste(i,"_",d$id[i],".json", sep="")
file = fromJSON(file = filename)
if(is.null(file$title[i])){
d[i,12:26] = NA
}
if(!is.null(file$title[i])){
d$title_rt[i] = file$title
d$year_rt[i] = file$year
d$genre_rt[i] = file$genres[1]
d$mpaa_rating[i] = file$mpaa_rating
d$runtime_rt[i] = file$runtime
d$critics_rating[i] = ifelse(is.null(file$ratings$critics_rating), NA, file$ratings$critics_rating)
d$critics_score[i] = file$ratings$critics_score
d$audience_rating[i] = ifelse(is.null(file$ratings$audience_rating), NA, file$ratings$audience_rating)
d$audience_score[i] = file$ratings$audience_score
d$actor1[i] = ifelse(length(file$abridged_cast)>=1, file$abridged_cast[[1]]$name, NA)
d$actor2[i] = ifelse(length(file$abridged_cast)>=2, file$abridged_cast[[2]]$name, NA)
d$actor3[i] = ifelse(length(file$abridged_cast)>=3, file$abridged_cast[[3]]$name, NA)
d$actor4[i] = ifelse(length(file$abridged_cast)>=4, file$abridged_cast[[4]]$name, NA)
d$actor5[i] = ifelse(length(file$abridged_cast)>=5, file$abridged_cast[[5]]$name, NA)
d$director_rt[i] = ifelse(length(file$abridged_directors)>=1, file$abridged_directors[[1]]$name, NA)
d$studio[i] = ifelse(is.null(file$studio), NA, file$studio)
d$link[i] = file$links$alternate[1]
}
}
View(d)
which(d$title != d$title_rt)
d[which(d$title != d$title_rt),]
d[which(d$title != d$title_rt),1:5]
names(d)
d[which(d$title != d$title_rt),c(1,12)]
head(d[which(d$title != d$title_rt),c(1,12)])
tail(d[which(d$title != d$title_rt),c(1,12)])
d[1947,]
which(d$row.names == "1947")
which(d$row.names == 1947)
which(d$title == "Dracula 2000")
d[573,]
d[which(d$title != d$title_rt),c(1,12)]
title_check = d[which(d$title != d$title_rt),c(1,12)]
View(title_check)
d[which(d$title == "King Kong"),]
d[which(d$title == "Iron Jawed Angels"),]
d[which(d$title == "Shut Up & Sing"),]
d[which(d$title == "Murder by Numbers"),]
d[which(d$title == "Out of Time"),]
d[which(d$title == "Friends with Money"),]
d[which(d$title == "Wishmaster"),]
d$title[which(d$title_rt == "Bruno")] = "Bruno"
d$title[which(d$title_rt == "Cube 2 - Hypercube")] = "Cube 2 - Hypercube"
d$title[which(d$title_rt == "Bruno"),]
which(d$title_rt == "Bruno")
d[105,]
d$title[which(d$title_rt == "Cube 2 - Hypercube")] = "Cube 2 - Hypercube"
which(d$title_rt == "Cube 2 - Hypercube")
d[300,]
d[which(d$title == "King Kong"),]
which(d$title == "King Kong" | d$title == "Iron Jawed Angels")
which(d$title %in% c("King Kong", "Iron Jawed Angels", "Shut Up & Sing", "Murder by Numbers", "Out of Time", "Friends with Money", "Dracula 2000")
which(d$title %in% c("King Kong", "Iron Jawed Angels", "Shut Up & Sing", "Murder by Numbers", "Out of Time", "Friends with Money", "Dracula 2000"))
d = subset(samp, select = c(Title,Title.type,Directors,IMDb.Rating,Runtime..mins.,Year,Genres,Num..Votes,Release.Date..month.day.year.,URL,id))
names(d) = c("title","title_type","directors","imdb_rating","runtime","year","genres","num_votes","rel_date","url","id")
d_imdb = d
d$title_rt = NA
d$year_rt = NA
d$genre_rt = NA
d$mpaa_rating = NA
d$runtime_rt = NA
d$critics_rating = NA
d$critics_score = NA
d$audience_rating = NA
d$audience_score = NA
d$actor1[i] = NA
d$actor2[i] = NA
d$actor3[i] = NA
d$actor4[i] = NA
d$actor5[i] = NA
d$director_rt[i] = NA
d$studio[i] = NA
d$link[i] = NA
dim(d)
# fill in new columns
for(i in 1:nrow(d)){
#print(i)
filename = paste(i,"_",d$id[i],".json", sep="")
file = fromJSON(file = filename)
if(is.null(file$title[i])){
d[i,12:26] = NA
}
if(!is.null(file$title[i])){
d$title_rt[i] = file$title
d$year_rt[i] = file$year
d$genre_rt[i] = file$genres[1]
d$mpaa_rating[i] = file$mpaa_rating
d$runtime_rt[i] = file$runtime
d$critics_rating[i] = ifelse(is.null(file$ratings$critics_rating), NA, file$ratings$critics_rating)
d$critics_score[i] = file$ratings$critics_score
d$audience_rating[i] = ifelse(is.null(file$ratings$audience_rating), NA, file$ratings$audience_rating)
d$audience_score[i] = file$ratings$audience_score
d$actor1[i] = ifelse(length(file$abridged_cast)>=1, file$abridged_cast[[1]]$name, NA)
d$actor2[i] = ifelse(length(file$abridged_cast)>=2, file$abridged_cast[[2]]$name, NA)
d$actor3[i] = ifelse(length(file$abridged_cast)>=3, file$abridged_cast[[3]]$name, NA)
d$actor4[i] = ifelse(length(file$abridged_cast)>=4, file$abridged_cast[[4]]$name, NA)
d$actor5[i] = ifelse(length(file$abridged_cast)>=5, file$abridged_cast[[5]]$name, NA)
d$director_rt[i] = ifelse(length(file$abridged_directors)>=1, file$abridged_directors[[1]]$name, NA)
d$studio[i] = ifelse(is.null(file$studio), NA, file$studio)
d$link[i] = file$links$alternate[1]
}
}
title_check = d[which(d$title != d$title_rt),c(1,12)]
title_check
d$title[which(d$title_rt == "Bruno")] = "Bruno"
d$title[which(d$title_rt == "Cube 2 - Hypercube")] = "Cube 2 - Hypercube"
to_drop = which(d$title %in% c("King Kong", "Iron Jawed Angels", "Shut Up & Sing", "Murder by Numbers", "Out of Time", "Friends with Money", "Dracula 2000"))
d_clean = d[-to_drop,]
View(d_clean)
title_check2 = d_clean[which(d_clean$title != d_clean$title_rt),c(1,12)]
View(title_check2)
which(d_clean$title == "Sunshine")
d[30,]
which(d_clean$title == "Jaws 3-D")
d[33,]
which(d_clean$title == "Behind the Lines")
d[86,]
to_drop = which(d$title %in% c("King Kong", "Iron Jawed Angels", "Shut Up & Sing", "Murder by Numbers", "Out of Time", "Friends with Money", "Dracula 2000", "Sunshine"))
d_clean = d[-to_drop,]
title_check2 = d_clean[which(d_clean$title != d_clean$title_rt),c(1,12)]
View(d_clean)
which(is.na(d$title_rt))
title_check1 = d[which(d$title != d$title_rt),c(1,12)]
d$title[which(d$title_rt == "Bruno")] = "Bruno"
d$title[which(d$title_rt == "Cube 2 - Hypercube")] = "Cube 2 - Hypercube"
to_drop = which(d$title %in% c("King Kong", "Iron Jawed Angels", "Shut Up & Sing", "Murder by Numbers", "Out of Time", "Friends with Money", "Dracula 2000", "Sunshine"))
to_drop1 = which(d$title %in% c("King Kong", "Iron Jawed Angels", "Shut Up & Sing", "Murder by Numbers", "Out of Time", "Friends with Money", "Dracula 2000", "Sunshine"))
title_check2 = d[which(is.na(d$title_rt)),c(1,12)]
View(title_check2)
to_drop = c(to_drop1, to_drop2)
to_drop2 = which(is.na(d$title_rt))
to_drop = c(to_drop1, to_drop2)
d_clean = d[-to_drop,]
View(d_clean)
which(d$runtime != d$runtime_rt)
plot(d$runtime~d$runtime_rt)
which(is.na(d$runtime))
which(is.na(d$runtime_rt))
d[158,]
which(d$runtime != d$runtime_rt)
names(d)
runtime_check = d[which(d$runtime != d$runtime_rt),c(1,5,17)]
View(runtime_check)
runtime_check = d[which(d$runtime != d$runtime_rt),c(1,5,16)]
View(runtime_check)
d$runtime[is.na(d$runtime),]
d$runtime[is.na(d$runtime)]
d$runtime[is.na(d$runtime)] = d$runtime_rt[!is.na(d$runtime)]
d$runtime[is.na(d$runtime)] = d$runtime_rt[is.na(d$runtime)]
which(is.na(d$runtime))
which(abs(d$runtime - d$runtime_rt) > 20)
(abs(d$runtime - d$runtime_rt)
abs(d$runtime - d$runtime_rt)
?absolute
??absolute
?abs
abs(d$runtime - d$runtime_rt)
class(d$runtime)
which(abs(as.numeric(d$runtime) - as.numeric(d$runtime_rt) > 20)
)
which(abs(as.numeric(d$runtime) - as.numeric(d$runtime_rt)) > 20)
runtime_check2 = d[which(abs(as.numeric(d$runtime) - as.numeric(d$runtime_rt)) > 20),c(1,5,16)]
View(runtime_check2)
d = subset(samp, select = c(Title,Title.type,Directors,IMDb.Rating,Runtime..mins.,Year,Genres,Num..Votes,Release.Date..month.day.year.,URL,id))
names(d) = c("title","title_type","directors","imdb_rating","runtime","year","genres","num_votes","rel_date","url","id")
# save the dataset so far
d_imdb = d
# create new columns
d$title_rt = NA
d$year_rt = NA
d$genre_rt = NA
d$mpaa_rating = NA
d$runtime_rt = NA
d$critics_rating = NA
d$critics_score = NA
d$audience_rating = NA
d$audience_score = NA
d$actor1[i] = NA
d$actor2[i] = NA
d$actor3[i] = NA
d$actor4[i] = NA
d$actor5[i] = NA
d$director_rt[i] = NA
d$studio[i] = NA
d$link[i] = NA
dim(d)
# fill in new columns
for(i in 1:nrow(d)){
#print(i)
filename = paste(i,"_",d$id[i],".json", sep="")
file = fromJSON(file = filename)
if(is.null(file$title[i])){
d[i,12:26] = NA
}
if(!is.null(file$title[i])){
d$title_rt[i] = file$title
d$year_rt[i] = file$year
d$genre_rt[i] = file$genres[1]
d$mpaa_rating[i] = file$mpaa_rating
d$runtime_rt[i] = file$runtime
d$critics_rating[i] = ifelse(is.null(file$ratings$critics_rating), NA, file$ratings$critics_rating)
d$critics_score[i] = file$ratings$critics_score
d$audience_rating[i] = ifelse(is.null(file$ratings$audience_rating), NA, file$ratings$audience_rating)
d$audience_score[i] = file$ratings$audience_score
d$actor1[i] = ifelse(length(file$abridged_cast)>=1, file$abridged_cast[[1]]$name, NA)
d$actor2[i] = ifelse(length(file$abridged_cast)>=2, file$abridged_cast[[2]]$name, NA)
d$actor3[i] = ifelse(length(file$abridged_cast)>=3, file$abridged_cast[[3]]$name, NA)
d$actor4[i] = ifelse(length(file$abridged_cast)>=4, file$abridged_cast[[4]]$name, NA)
d$actor5[i] = ifelse(length(file$abridged_cast)>=5, file$abridged_cast[[5]]$name, NA)
d$director_rt[i] = ifelse(length(file$abridged_directors)>=1, file$abridged_directors[[1]]$name, NA)
d$studio[i] = ifelse(is.null(file$studio), NA, file$studio)
d$link[i] = file$links$alternate[1]
}
}
library(rjson)
# create new columns
d$title_rt = NA
d$year_rt = NA
d$genre_rt = NA
d$mpaa_rating = NA
d$runtime_rt = NA
d$critics_rating = NA
d$critics_score = NA
d$audience_rating = NA
d$audience_score = NA
d$actor1[i] = NA
d$actor2[i] = NA
d$actor3[i] = NA
d$actor4[i] = NA
d$actor5[i] = NA
d$director_rt[i] = NA
d$studio[i] = NA
d$link[i] = NA
dim(d)
# fill in new columns
for(i in 1:nrow(d)){
#print(i)
filename = paste(i,"_",d$id[i],".json", sep="")
file = fromJSON(file = filename)
if(is.null(file$title[i])){
d[i,12:26] = NA
}
if(!is.null(file$title[i])){
d$title_rt[i] = file$title
d$year_rt[i] = file$year
d$genre_rt[i] = file$genres[1]
d$mpaa_rating[i] = file$mpaa_rating
d$runtime_rt[i] = file$runtime
d$critics_rating[i] = ifelse(is.null(file$ratings$critics_rating), NA, file$ratings$critics_rating)
d$critics_score[i] = file$ratings$critics_score
d$audience_rating[i] = ifelse(is.null(file$ratings$audience_rating), NA, file$ratings$audience_rating)
d$audience_score[i] = file$ratings$audience_score
d$actor1[i] = ifelse(length(file$abridged_cast)>=1, file$abridged_cast[[1]]$name, NA)
d$actor2[i] = ifelse(length(file$abridged_cast)>=2, file$abridged_cast[[2]]$name, NA)
d$actor3[i] = ifelse(length(file$abridged_cast)>=3, file$abridged_cast[[3]]$name, NA)
d$actor4[i] = ifelse(length(file$abridged_cast)>=4, file$abridged_cast[[4]]$name, NA)
d$actor5[i] = ifelse(length(file$abridged_cast)>=5, file$abridged_cast[[5]]$name, NA)
d$director_rt[i] = ifelse(length(file$abridged_directors)>=1, file$abridged_directors[[1]]$name, NA)
d$studio[i] = ifelse(is.null(file$studio), NA, file$studio)
d$link[i] = file$links$alternate[1]
}
}
title_check1 = d[which(d$title != d$title_rt),c(1,12)]
d$title[which(d$title_rt == "Bruno")] = "Bruno"
d$title[which(d$title_rt == "Cube 2 - Hypercube")] = "Cube 2 - Hypercube"
to_drop1 = which(d$title %in% c("King Kong", "Iron Jawed Angels", "Shut Up & Sing", "Murder by Numbers", "Out of Time", "Friends with Money", "Dracula 2000", "Sunshine"))
# title check2 - NA in RT
title_check2 = d[which(is.na(d$title_rt)),c(1,12)]
to_drop2 = which(is.na(d$title_rt))
# runtime check -
# replace NAs in IMDB data with RT data
# use IMDB data as truth (more missing in RT)
runtime_check1 = d[which(d$runtime != d$runtime_rt),c(1,5,16)] # many mismatch, but by few mins
d$runtime[is.na(d$runtime)] = d$runtime_rt[is.na(d$runtime)]
runtime_check2 = d[which(abs(as.numeric(d$runtime) - as.numeric(d$runtime_rt)) > 20),c(1,5,16)] # some with large differences, but use IMDB as truth
# drop cases
to_drop = c(to_drop1, to_drop2)
d_clean = d[-to_drop,]
View(d_clean)
range(d$critics_score)
range(d$critics_score, na.rm = TRUE)
range(d$audience_score, na.rm = TRUE)
which(d$critics_score < 0)
